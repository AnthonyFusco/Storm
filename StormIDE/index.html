<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Editor</title>
    <style type="text/css" media="screen">
        body {
            overflow: hidden;
        }

        #editor {
            margin: 0;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
    </style>

    <script src="bower_components/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="storm-mode.js" data-ace-base="src" type="text/javascript" charset="utf-8"></script>
    <script src="bower_components/ace-builds/src-noconflict/ext-language_tools.js"></script>
</head>
<body>

<pre id="editor">
Drunken Master

AC 20
HP 12d8 + 55
pp 15
speed 50

str 20
dex 20
con 20
int 20
wis 20
cha 20

actions {
Unarmed Strike =>
+9 to hit
reach 5
hit 1d4+5 bludgeoning
{one target.}
}

features {

CR => {10}

Performance => {+9}

Brewer's Supplies => {+9}

Condition Immunities => {poisoned }

Deflect Missile =>
{ When the drunken master is hit by a ranged weapon attack, the damage is reduced by 25 (1d10 + 20).}

Drunkard's Luck (1/Turn) =>
{When the drunken master has disadvantage on an attack roll, ability check, or saving throw,
 it can choose either result for that roll.}

Drunken Technique =>
{The drunken master does not trigger opportunity attacks when it moves on its turn. Also, when prone,
 the drunken master can spend 5 feet of movement to stand up.}

Ki Fists =>
{The drunken master's unarmed strikes are magical.}

Legendary Resistances (3/Day) =>
{When the drunken master fails a saving throw, it can choose to succeed instead.}

Lucky (3/Day) =>
{The drunken master can re-roll an attack roll, ability check, or saving throw it makes and use either result.}

Slow Fall => {The drunken master takes no damage as a result of a fall.}

Unarmored Defense => {While the drunken master isn't wearing armor, its armor class includes its Wisdom modifier.}

Flailing Arms (Action) =>
{The drunken master makes two unarmed strikes against each creature within 5 feet of its poison.}

Redirect Attack (reaction) =>
{When a creature misses the drunken master with a melee attack roll,
the drunken master can use its reaction to cause that attack to hit one creature of its choice,
other than the attacker, that it can see within 5 feet of it.}

}
</pre>

<script type="text/javascript" charset="utf-8">
    let editor = ace.edit("editor");
    editor.setTheme("ace/theme/solarized_dark");
    editor.$blockScrolling = Infinity;
    editor.setOptions({
        // enableBasicAutocompletion: true,
        enableLiveAutocompletion: true
    });
    editor.getSession().setMode("ace/mode/storm");
    let langTools = ace.require('ace/ext/language_tools');
    let tokens = ['AC ', 'ac ', 'PP ', 'pp ', 'HP ', 'hp ', 'speed ', 'str ', 'dex ', 'con ', 'int ', 'wis ', 'cha ',
        'actions {\n', 'features {\n', 'hit ', 'reach ', 'range ', 'to hit\n',
        'piercing\n', 'slashing\n', 'bludgeoning\n', 'fire\n', 'acid\n', 'ice\n', 'arcane\n', 'thunder\n', '=>\n'];
    langTools.addCompleter({
        getCompletions: function (editor, session, pos, prefix, callback) {
            if (prefix.length === 0) {
                callback(null, []);
                return
            }
            callback(null, tokens.map(function (t) {
                    return {name: t, value: t, score: 1, meta: "Statement"}
                })
            );
        }
    });
</script>

</body>
</html>